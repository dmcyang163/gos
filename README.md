# P2P 节点通信demo

这是一个简单的 P2P（点对点）网络通信演示程序，展示了多个节点如何通过 TCP 连接进行通信、发现其他节点并交换消息。每个节点都有一个独特的名字和属性，基于配置文件中的设置。

## 功能特性

- **节点发现**：节点可以通过引导节点（Bootstrap Node）发现其他节点，并维护一个已知节点列表。
- **消息广播**：节点可以向所有连接的节点广播消息。
- **消息处理**：节点可以处理不同类型的消息，如聊天消息、节点列表请求等。
- **心跳机制**：节点定期发送心跳消息（Ping/Pong）以保持连接。
- **动态配置**：通过配置文件动态设置节点的端口、引导节点、最大连接数等。

## 配置文件

### `config.json`

配置文件 `config.json` 定义了多个节点的配置，每个节点包含以下字段：

- `id`: 节点的唯一标识符。
- `port`: 节点监听的端口号。
- `bootstrap_node`: 引导节点的地址（格式为 `host:port`），用于初始连接。如果为空，则该节点不连接任何引导节点。
- `max_conns`: 节点的最大连接数。
- `log_level`: 日志级别（如 `info`, `debug`, `warn`, `error`）。

示例配置文件：

```json
{
    "nodes": [
        {
            "id": "node_a",
            "port": "1234",
            "bootstrap_node": "",
            "max_conns": 100,
            "log_level": "info"
        },
        {
            "id": "node_b",
            "port": "1235",
            "bootstrap_node": "localhost:1234",
            "max_conns": 100,
            "log_level": "info"
        }
    ]
}